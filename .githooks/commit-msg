#!/bin/bash

# git commit hook that rejects multi-line commit messages

# Read the commit message file
commit_msg_file="$1"

# Check if the commit message contains newlines
if grep -qP '(\n.*){2,}' "$commit_msg_file"; then
    echo "Commit messages with more than one line break are forbidden. Try again with a single-line commit message." >&2
    exit 1
fi

# If no newlines are found, the commit is allowed to proceed
exit 0
